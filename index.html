<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" integrity="..." crossorigin="anonymous">

  <!-- Include Google Fonts - Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700&display=swap">

  <!-- Custom CSS for Dark and Light Mode and Form Styling -->
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f8f9fa; /* Light mode background color */
      color: #212529; /* Light mode text color */
    }

    body.dark-mode {
      background-color: #343a40; /* Dark mode background color */
      color: #ffffff; /* Dark mode text color */
    }

    /* Responsive top bar styles */
    .top-bar {
      background-color: #007bff; /* Blue color for the top bar */
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #ffffff; /* Text color for the top bar */
    }

    /* Form styling */
    .custom-form {
      max-width: 400px;
      margin: 30px auto;
    }

    /* Result section styling */
    .result-section {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- Top Bar with Title and Dark Mode Switch -->
  <div class="container-fluid top-bar">
    <h1>My Responsive Website</h1>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" id="darkModeToggle">
      <label class="form-check-label" for="darkModeToggle">Dark Mode</label>
    </div>
  </div>

  <!-- Form Section -->
  <div class="container custom-form">
    <form>
      <!-- Numeric Input Field -->
      <div class="mb-3">
        <label for="numericInput" class="form-label">Enter Numeric Value:</label>
        <input type="number" class="form-control" id="numericInput" step="0.01" required>
      </div>

      <!-- Dropdown Select for Categories -->
      <div class="mb-3">
        <label for="categorySelect" class="form-label">Select Category:</label>
        <select class="form-select" id="categorySelect" required>
          <!-- Categories will be dynamically populated here -->
        </select>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>

  <!-- Result Section -->
  <div class="container result-section">
    <h2>Result:</h2>
    <p id="resultText">The result will be displayed here.</p>
  </div>

  <!-- Include Bootstrap JS (optional, for components that require JavaScript) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="..." crossorigin="anonymous"></script>

  <!-- Custom JavaScript for Dark and Light Mode and Form Submission -->
  <script>
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode', darkModeToggle.checked);
    });

    const form = document.querySelector('form');
    const resultText = document.getElementById('resultText');
    const categorySelect = document.getElementById('categorySelect');

    // Fetch categories from the API
    fetch('https://tassidicambio.bancaditalia.it/terzevalute-wf-web/rest/v1.0/latestRates?lang={}')
      .then(response => response.json())
      console.log(response.json())
      .then(latestRates => {
        // Populate the dropdown with categories
        latestRates.forEach(category => {
          const option = document.createElement('option');
          option.value = category.id; // Set the appropriate value
          option.textContent = category.name; // Set the appropriate text
          categorySelect.appendChild(option);
        });
      })
      .catch(error => console.error('Error fetching categories:', error));


    form.addEventListener('submit', function (event) {
      event.preventDefault();

      const numericInput = parseFloat(document.getElementById('numericInput').value);
      const selectedCategoryId = categorySelect.value;

      // Your logic for processing the input and category goes here
      // For demonstration purposes, the result is displayed in the resultText paragraph.

      resultText.textContent = `Numeric Value: ${numericInput}, Selected Category ID: ${selectedCategoryId}`;
    });
  </script>
</body>
</html>